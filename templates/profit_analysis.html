{% extends 'base.html' %}
{% block title %}è´¦æˆ·æ”¶ç›Šåˆ†æ{% endblock %}

{% block content %}
<el-row :gutter="20">
    <el-col :span="24">
        <el-card>
            <template #header>
                <div style="display:flex; justify-content:space-between; align-items:center">
                    <span>ğŸ’° è´¦æˆ·æ”¶ç›Šä¸å›æµ‹åˆ†æ</span>
                    <el-button type="primary" size="small" @click="initCharts">åˆ·æ–°æ•°æ®</el-button>
                </div>
            </template>
            
            <el-row :gutter="20" style="margin-bottom: 20px;">
                <el-col :span="6">
                    <div style="text-align:center; padding:10px; background:#f0f9eb; border-radius:4px">
                        <div style="color:#67C23A; font-size:24px; font-weight:bold">+12.5%</div>
                        <div style="color:#666">ç´¯è®¡æ”¶ç›Šç‡</div>
                    </div>
                </el-col>
                <el-col :span="6">
                    <div style="text-align:center; padding:10px; background:#fdf6ec; border-radius:4px">
                        <div style="color:#E6A23C; font-size:24px; font-weight:bold">68.2%</div>
                        <div style="color:#666">ç­–ç•¥èƒœç‡</div>
                    </div>
                </el-col>
                <el-col :span="6">
                    <div style="text-align:center; padding:10px; background:#fef0f0; border-radius:4px">
                        <div style="color:#F56C6C; font-size:24px; font-weight:bold">-5.2%</div>
                        <div style="color:#666">æœ€å¤§å›æ’¤</div>
                    </div>
                </el-col>
                <el-col :span="6">
                    <div style="text-align:center; padding:10px; background:#ecf5ff; border-radius:4px">
                        <div style="color:#409EFF; font-size:24px; font-weight:bold">12</div>
                        <div style="color:#666">æ€»äº¤æ˜“æ¬¡æ•°</div>
                    </div>
                </el-col>
            </el-row>

            <div id="pnl-chart" style="height: 400px;"></div>
        </el-card>
    </el-col>
</el-row>
{% endblock %}

{% block scripts %}
<script>
function pageSetup() {
    const { onMounted } = Vue;
    
    const initCharts = () => {
        const chart = echarts.init(document.getElementById('pnl-chart'));
        const dates = ['1æœˆ','2æœˆ','3æœˆ','4æœˆ','5æœˆ','6æœˆ'];
        
        chart.setOption({
            title: { text: 'èµ„é‡‘æƒç›Šæ›²çº¿' },
            tooltip: { trigger: 'axis' },
            legend: { data: ['ç­–ç•¥æ”¶ç›Š', 'åŸºå‡†æ”¶ç›Š'] },
            xAxis: { data: dates },
            yAxis: { type: 'value' },
            series: [
                {
                    name: 'ç­–ç•¥æ”¶ç›Š', type: 'line', smooth: true,
                    data: [0, 5, 3, 8, 15, 12],
                    itemStyle: { color: '#F56C6C' },
                    areaStyle: { opacity: 0.1 }
                },
                {
                    name: 'åŸºå‡†æ”¶ç›Š', type: 'line', smooth: true,
                    data: [0, 2, 1, 4, 3, 5],
                    itemStyle: { color: '#909399' }
                }
            ]
        });
    };

    onMounted(initCharts);
    return { initCharts };
}
</script>
{% endblock %}